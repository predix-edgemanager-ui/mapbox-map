<!DOCTYPE html>
<link rel="import" href="../../../polymer/polymer.html">
<link rel="import" href="../../../iron-image/iron-image.html">
<link rel="import" href="../../../polymer-font-awesome/polymer-font-awesome.html" />
<link rel="stylesheet" href="../../../font-awesome/css/font-awesome.min.css">
<link rel="import" href="../../../iron-icon/iron-icon.html">

<dom-module id="map-legend-detail">
	<template>
		<style>
			:host {
				width: 33%;
				height: 100%;
				flex-direction: row;
				display: inline-flex;
			}

		</style>

		<h1 style="font-size:60px;">{{number}}</h1>
		<div style="flex-direction:col;bottom:0;margin-top:10%;margin-left:5%;height:100%;">
			<template is="dom-if" if="{{_isUrl(icon)}}">
				<iron-image style="height: 40%; width: 100%;" sizing="contain" src="{{icon}}"></iron-image>
			</template>
			<template is="dom-if" if="{{!_isUrl(icon)}}">
				<iron-icon style="height: 40%; width: 100%;color:red;" icon="{{_getIcon(icon)}}"></iron-icon>
			</template>
			<p style="font-size:120%;height:40%;text-align: center;">{{label}}</p>
		</div>
	</template>
	<script>
		HTMLImports.whenReady(function() {
			Polymer({
				is: "map-legend-detail",
				properties: {
					number: {
						type: Number,
						value: 0
					},
					label: {
						type: String,
						value: ""
					},
				},
				_isUrl: function(icon) {
					var regexp = /(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;
					return regexp.test(icon);
				},
				_getIcon: function(iconName) {
					return "polymer-font-awesome:" + iconName;
				}
			});
		});

	</script>
</dom-module>
